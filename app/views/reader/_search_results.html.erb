<% results.each_with_index do |result, index| %>
  <% locals = {entry: result, index: (index + @page * 10), is_unread: result.unread_for_user?(current_user)} %> 
  <% locals = locals.merge({unreadable: false}) %>
  <%= render :partial => (result.shared? ? "share" : "entry"), :locals => locals %>
<% end %>